<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout}">

<head>
    <title>Danh sách khách hàng</title>
</head>

<div class="content-page" layout:fragment="body">

    <div class="container-fluid">
        <div class="row ml-1">
            <div class="col-lg-12">
                <div class="d-flex flex-wrap align-items-center justify-content-between mb-4">
                    <div>
                        <h4 class="mb-3">Danh sách khách hàng</h4>
                        <p class="mb-0">Bảng điều khiển khách hàng cho phép bạn dễ dàng thu thập và trực quan hóa dữ
                            liệu khách hàng từ việc tối ưu hóa trải nghiệm của khách hàng, đảm bảo giữ chân khách hàng.
                        </p>
                    </div>

                    <a th:href="@{/customer/add}" class="btn btn-primary add-list mt-3 ml-1"><i
                            class="las la-plus mr-3"></i>Add
                        Customer</a>
                    <form th:action="@{customer/upload}" method="post" enctype="multipart/form-data">
                        <input type="file" name="file" accept=".xlsx">
                        <button type="submit">Upload</button>
                    </form>
                    <a th:href="@{/customers/export}" class="btn btn-success add-list mt-3 "><i
                            class="las la-plus mr-3"></i>Export
                        Customer</a>


                </div>

            </div>
        </div>


        <div class="row mb-4 col-lg-6">
            <input class="form-control" id="search-btn" type="search" placeholder="Search" aria-label="Search"
                name="fullName" onkeyup="search()">





        </div>
    </div>




    <div class="col-lg-12">
        <div class="table-responsive rounded mb-3">
            <table class="data-table table mb-0 tbl-server-info" id="Table">
                <thead class="bg-white text-uppercase">
                    <tr class="ligth ligth-data">
                        <th>
                            <div class="checkbox d-inline-block">
                                <input type="checkbox" class="checkbox-input" id="checkbox1">
                                <label for="checkbox1" class="mb-0"></label>
                            </div>
                        </th>
                        <th>Tên khách hàng <i class="bi bi-arrow-down-up"></i></th>
                        <th>Email</th>
                        <th>Số điện thoại</th>
                        <th>Địa chỉ</th>
                        <th>Doanh số</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody class="ligth-body">

                    <tr th:each="customer:${customers}">
                        <td>
                            <div class="checkbox d-inline-block">
                                <input type="checkbox" class="checkbox-input" id="checkbox3">
                                <label for="checkbox3" class="mb-0"></label>
                            </div>
                        </td>
                        <td th:text="${customer.fullName}"></td>
                        <td th:text="${customer.email}"></td>
                        <td th:text="${customer.phoneNum}"></td>
                        <td th:text="${customer.address}"></td>
                        <td th:text="${customer.getSales()}"></td>
                        <td>
                            <div class="d-flex align-items-center list-action">
                                <a class="badge bg-success mr-2" data-placement="top"
                                    th:href="@{/customer/update/{id}(id=${customer.id})}" data-original-title="Edit"><i
                                        class="ri-pencil-line mr-0"></i></a>
                                <a type="button" class="badge bg-warning mr-2" data-toggle="modal" data-placement="top"
                                    title="" data-original-title="Delete"
                                    th:data-target="'.bd-example-modal-xl'+${customer.id}">
                                    <i class="ri-delete-bin-line mr-0"></i></a>

                                <div th:class="'modal fade bd-example-modal-xl'+${customer.id}" role="dialog"
                                    aria-hidden="true">
                                    <div class="modal-dialog modal-xl">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title">Cảnh báo</h5>
                                                <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <span
                                                    th:text="'Bạn có chắc muốn xóa khách hàng ' + ${customer.fullName} +' không?'">
                                                </span>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                    data-dismiss="modal">Close</button>
                                                <a th:href="@{/customer/delete/{id}(id=${customer.id})}"><button
                                                        type="button" class="btn btn-primary">Xóa</button></a>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- Page end  -->
</div>
<!-- Modal Edit -->
<div class="modal fade" id="edit-note" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="popup text-left">
                    <div class="media align-items-top justify-content-between">
                        <h3 class="mb-3">Product</h3>
                        <div class="btn-cancel p-0" data-dismiss="modal"><i class="las la-times"></i></div>
                    </div>
                    <div class="content edit-notes">
                        <div class="card card-transparent card-block card-stretch event-note mb-0">
                            <div class="card-body px-0 bukmark">
                                <div class="d-flex align-items-center justify-content-between pb-2 mb-3 border-bottom">
                                    <div class="quill-tool">
                                    </div>
                                </div>
                                <div id="quill-toolbar1">
                                    <p>Virtual Digital Marketing Course every week on Monday, Wednesday and
                                        Saturday.Virtual Digital Marketing Course every week on Monday</p>
                                </div>
                            </div>
                            <div class="card-footer border-0">
                                <div class="d-flex flex-wrap align-items-ceter justify-content-end">
                                    <div class="btn btn-primary mr-3" data-dismiss="modal">Cancel</div>
                                    <div class="btn btn-outline-primary" data-dismiss="modal">Save</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>




</html>